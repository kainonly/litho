<nz-page-header [nzGhost]="false">
  <nz-page-header-title>视频</nz-page-header-title>
  <nz-page-header-extra>
    <ng-container *ngTemplateOutlet="ref.uploadRef"></ng-container>
  </nz-page-header-extra>
  <nz-page-header-content>
    <nz-row nzJustify="space-between">
      <nz-col>
        <div>
          <nz-space>
            <nz-input-group *nzSpaceItem style="width: 180px" nzSuffixIcon="search">
              <input
                (keyup.enter)="ref.getData(true)"
                [(ngModel)]="ref.searchText"
                type="text"
                nz-input
                placeholder="搜索"
                i18n-placeholder
              />
            </nz-input-group>
          </nz-space>
        </div>
      </nz-col>
      <nz-col> </nz-col>
      <nz-col> </nz-col>
    </nz-row>
  </nz-page-header-content>
</nz-page-header>

<div style="padding: 8px 8px 24px; height: calc(100% - 104px)">
  <wpx-media-view #ref wpxType="videos" [wpxFallback]="['assets', 'photon.svg'] | wpxAssets"></wpx-media-view>
</div>

<ng-container *ngIf="ref.ds.checkedNumber !== 0; else tip">
  <nz-alert class="actions" nzType="info" nzBanner nzMessage="批量" [nzDescription]="description" [nzAction]="bulk">
    <ng-template #description>
      已选中 <nz-tag>{{ ref.ds.checkedNumber }}</nz-tag> 项
    </ng-template>
    <ng-template #bulk>
      <a nz-button nzType="link" nzSize="small" (click)="ref.ds.clearChecked()">取消选择</a>
      <br />
      <a style="float: right" nz-button nzType="link" nzSize="small" nzDanger (click)="ref.bulkDelete()">删除</a>
    </ng-template>
  </nz-alert>
</ng-container>

<ng-template #tip>
  <nz-alert
    class="actions"
    nzBanner
    nzType="info"
    nzMessage="接受 mp4 等文件类型的上传，其他文件将被阻止"
    nzCloseable
  ></nz-alert>
</ng-template>
