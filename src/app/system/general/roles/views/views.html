<ng-template #bottom>
  @if (roleData()) {
    <button nz-button nzType="dashed" [routerLink]="['/system', 'general', 'roles', 'home']">
      {{ roleData()!.name }}
      <nz-icon nzType="close" />
    </button>
  }
</ng-template>

<nz-card style="height: 100%" [nzBordered]="false">
  <nz-row [nzGutter]="[16, 16]">
    @for (nav of global.navs; track nav.key) {
      <nz-col [nzSpan]="12">
        <ng-template #extra>
          <nz-switch
            [nzCheckedChildren]="onRef"
            [nzUnCheckedChildren]="offRef"
            [ngModel]="display.has(nav.key)"
            (ngModelChange)="watchDisplay(nav.key, $event)"
          >
          </nz-switch>
        </ng-template>
        <nz-card nzSize="small" nzType="inner" [nzBordered]="false" [nzTitle]="nav.name" [nzExtra]="extra">
          @if (!navNodes()[nav.key]) {
            <nz-empty />
          }
          <nz-tree [nzData]="navNodes()[nav.key]" nzCheckable />
        </nz-card>
      </nz-col>
    }
  </nz-row>
</nz-card>

<!--<nz-tabs-->
<!--  style="height: 100%; padding: 24px 0; overflow: hidden auto"-->
<!--  nzSize="large"-->
<!--  nzTabPosition="left"-->
<!--  [nzTabBarExtraContent]="bottom"-->
<!--&gt;-->
<!--  <nz-tab nzTitle="视图授权"> </nz-tab>-->
<!--</nz-tabs>-->

<nz-float-button nz-tooltip="更新授权" nzType="primary" nzIcon="save" />

<ng-template #onRef>
  <nz-icon nzType="eye" />
</ng-template>
<ng-template #offRef>
  <nz-icon nzType="eye-invisible" />
</ng-template>
