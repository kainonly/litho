<div class="litho-split-container">
  <div class="litho-split-list-panel">
    <ng-template #left>
      <nz-space nzAlign="center">
        <app-keyword *nzSpaceItem [appModel]="m" (appOnSearch)="getData(true)"></app-keyword>
        <app-toolbox *nzSpaceItem [appModel]="m" (appRefresh)="getData(true)" (appClear)="getData(true)"></app-toolbox>
      </nz-space>
    </ng-template>

    <nz-card style="height: 100%" [nzBordered]="false" [nzTitle]="left">
      <nz-table
        #tb
        [style.height.%]="100"
        [nzLoading]="m.loading()"
        [nzData]="m.data()"
        [nzTotal]="m.total()"
        [nzFrontPagination]="false"
        [nzShowPagination]="true"
        [nzShowSizeChanger]="true"
        [nzPageSizeOptions]="[10, 20, 50]"
        [(nzPageIndex)]="m.page"
        [(nzPageSize)]="m.pagesize"
        (nzPageIndexChange)="getData()"
        (nzPageSizeChange)="getData()"
      >
        <thead>
          <tr>
            <th><app-title>资源名称</app-title></th>
            <th><app-title>资源路径</app-title></th>
            <th nzRight nzAlign="center" nzWidth="50px">
              <button nz-button nzType="text" nz-tooltip="操作">
                <nz-icon nzType="setting" />
              </button>
            </th>
          </tr>
        </thead>
        <tbody>
          @for (data of tb.data; track data.id) {
            <tr>
              <td>
                <a [routerLink]="['/system', 'access', 'resources', data.id]">{{ data.label }}</a>
              </td>
              <td>/{{ data.id }}</td>
              <td nzRight nzAlign="center">
                <button nz-button nzType="text" disabled>
                  <nz-icon nzType="ellipsis" />
                </button>
              </td>
            </tr>
          }
        </tbody>
      </nz-table>
    </nz-card>
  </div>

  <div class="litho-split-detail-panel">
    <router-outlet />
  </div>
</div>
