<nz-card>
  <nz-row style="padding-bottom: 12px" nzJustify="space-between">
    <nz-col>
      <img style="height: 90px" [src]="['assets', 'Lark-logo.svg'] | wpxAssets" alt="" />
    </nz-col>
    <nz-col></nz-col>
    <nz-col></nz-col>
  </nz-row>

  <nz-card nzSize="small" nzType="inner" nzTitle="应用配置" [nzExtra]="larkEditRef">
    <ng-template #larkEditRef>
      <button nz-button nzType="text" (click)="setLark()">
        <span nz-icon nzType="edit"></span>
      </button>
    </ng-template>
    <nz-descriptions nzLayout="vertical" [nzColumn]="2">
      <nz-descriptions-item nzTitle="应用 ID">
        <ng-container *ngIf="data['LarkAppId']; else unkown">
          {{ data['LarkAppId'] }}
        </ng-container>
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="应用密码">
        <ng-container *ngIf="data['LarkAppSecret']; else unkown">
          <span>已设置</span>
        </ng-container>
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="事件订阅安全校验数据密钥">
        <ng-container *ngIf="data['LarkEncryptKey']; else unkown">
          <span>已设置</span>
        </ng-container>
      </nz-descriptions-item>
      <nz-descriptions-item nzTitle="事件订阅验证令牌">
        <ng-container *ngIf="data['LarkVerificationToken']; else unkown">
          <span>已设置</span>
        </ng-container>
      </nz-descriptions-item>
    </nz-descriptions>
  </nz-card>

  <nz-row style="padding-top: 12px" [nzGutter]="[8, 8]">
    <nz-col [nzSpan]="12">
      <nz-card nzSize="small" nzType="inner" nzTitle="第三方免登陆" [nzExtra]="larkLoginRef">
        <ng-template #larkLoginRef>
          <button nz-button nzType="text" (click)="setLoginFree()">
            <span nz-icon nzType="edit"></span>
          </button>
        </ng-template>
        <p>允许通过企业平台用户身份进行登录</p>
        <nz-descriptions nzLayout="vertical" [nzColumn]="2">
          <nz-descriptions-item nzTitle="跳转地址">
            <ng-container *ngIf="data['RedirectUrl']; else unkown">
              {{ data['RedirectUrl'] }}
            </ng-container>
          </nz-descriptions-item>
        </nz-descriptions>
      </nz-card>
    </nz-col>
  </nz-row>
</nz-card>

<ng-template #unkown>
  <span>未设置</span>
</ng-template>

<ng-template #notYetRef>
  <button nz-button nzType="text" disabled>
    <span nz-icon nzType="edit"></span>
  </button>
</ng-template>
