<nz-table nzTemplateMode>
  <thead>
    <tr>
      <th><b>Event</b></th>
      <th nzRight nzWidth="200px"><b>Recent</b></th>
      <th nzRight nzWidth="200px"><b>Next</b></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let job of doc.schedule!.jobs; index as i">
      <td [ngSwitch]="job.mode">
        <ng-container *ngSwitchCase="'HTTP'">
          <nz-tag>URL</nz-tag>
          <a (click)="openLogs(i)">
            <b>{{ job.option.method }}</b>
            {{ job.option.url }}
          </a>
        </ng-container>
      </td>
      <td>
        <ng-container *ngIf="state && state.jobs[i]!.schedule_state as v">
          <ng-container *ngIf="state.status; else emptyText">
            {{ v.prev | date: 'medium' }}
          </ng-container>
        </ng-container>
      </td>
      <td>
        <ng-container *ngIf="state && state.jobs[i]!.schedule_state as v">
          <ng-container *ngIf="state.status; else emptyText">
            {{ v.next | date: 'medium' }}
          </ng-container>
        </ng-container>
      </td>
    </tr>
  </tbody>
</nz-table>

<ng-template #emptyText>-</ng-template>
