<wpx-layout wpxTitle="日志检索">
  <nz-row *wpxLayoutContent nzJustify="space-between">
    <nz-col>
      <nz-input-group nzCompact>
        <input
          style="width: 420px"
          type="text"
          nz-input
          placeholder="请输入搜索关键词"
          [(ngModel)]="searchText"
          (keyup.enter)="getData()"
        />
        <button nz-button (click)="getData()"><i nz-icon nzType="search"></i></button>
      </nz-input-group>
    </nz-col>
    <nz-col></nz-col>
    <nz-col>
      <nz-button-group>
        <button nz-button nzType="text" nz-tooltip="刷新" (click)="getData()">
          <i nz-icon nzType="reload"></i>
        </button>
        <button nz-button nzType="text" nz-tooltip="清除搜索" (click)="clearSearch()">
          <i nz-icon nzType="clear"></i>
        </button>
        <button nz-button [nzType]="filter ? 'link' : 'text'" nz-tooltip="筛选" (click)="filter = !filter">
          <i nz-icon nzType="filter"></i>
        </button>
      </nz-button-group>
    </nz-col>
  </nz-row>
</wpx-layout>

<nz-card *ngIf="filter">
  <nz-tag
    nzMode="checkable"
    [nzChecked]="labels.length === matchLabels.size"
    (nzCheckedChange)="matchLabelsChange($event)"
  >
    全部
  </nz-tag>
  <ng-container *ngFor="let x of labels">
    <nz-tag nzMode="checkable" [nzChecked]="matchLabels.has(x)" (nzCheckedChange)="matchLabelChange($event, x)">
      {{ x }}
    </nz-tag>
  </ng-container>
</nz-card>

<nz-card style="margin-top: 12px">
  <nz-table #basicTable nzSize="default" [nzShowPagination]="false">
    <thead>
      <tr>
        <th nzWidth="240px">用户</th>
        <th nzWidth="240px">模块</th>
        <th>操作内容</th>
        <th nzWidth="200px">时间</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of basicTable.data">
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </tbody>
  </nz-table>
</nz-card>
